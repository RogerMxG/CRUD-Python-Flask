{% include 'header.html' %}

{% with messages = get_flashed_messages() %}

{% if messages %}
    <div class="alert alert-danger" role="alert">
        {% for message in messages %}
        {{ message }}
        {% endfor %}
    </div>
{% endif %}

{% endwith %}

{% for empleado in empleados %}
<form method="post" action="/update" enctype="multipart/form-data">
    <br>
    <div class="card" style="background: #EAEAEA">
        <div class="card-header text-light bg-dark">
            Editar Empleado
        </div>
        <div class="card-body">
            <h4 class="card-title">Datos del empleado</h4>

            <p class="card-text">
                <div class="form-group">
                    <h5>
                        <label for="txtNombre">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-square" viewBox="0 0 20 20">
                              <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                              <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z"/>
                            </svg>Nombre:
                        </label>
                    </h5>
                    <input type="text" name="txtNombre" id="txtNombre" class="form-control" value="{{ empleado[1] }}">
                </div>
                <br>
                <div class="form-group">
                    <h5>
                        <label for="txtCorreo">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-envelope" viewBox="0 0 18 18">
                            <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"/>
                        </svg>Correo:
                        </label>
                    </h5>
                    <input type="text" name="txtCorreo" id="txtCorreo" class="form-control" value="{{ empleado[2] }}">
                </div>
                <br>
                <div class="form-group">
                    <h5>
                        <label for="txtFoto">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-image" viewBox="0 0 20 20">
                              <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
                              <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>
                            </svg>Foto del Empleado:
                        </label>
                    </h5>
                    <img class="img-thumbnail" width="350" src="{{ url_for('uploads', nombreFoto = empleado[3]) }}" alt="">
                    <input type="file" name="txtFoto" id="txtFoto" class="form-control" value="{{ empleado[1] }}">
                </div>

                <input type="hidden" value="{{ empleado[0] }}" name="txtID" id="txtID">
                <br/>

                <div class="form-group">
                   <!-- Button trigger modal -->
                            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                              Modificar
                            </button>

                            <!-- Modal -->
                            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">
                                  <div class="modal-header text-light bg-dark">
                                    <h5 class="modal-title" id="exampleModalLabel">Eliminar Usuario</h5>
                                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                                  </div>
                                  <div class="modal-body">
                                      <center>
                                          <h4>¿Está seguro de editar al usuario?</h4>
                                      </center>

                                      <div class="col" style="display:flex; align-items:center; justify-content: center;">
                                          <div class="card border-dark mb-3" style="width: 15em;">
                                              <img src="/uploads/{{ empleado[3] }}" class="card-img-top" alt="..." >
                                              <div class="card-body">
                                                <h5 class="card-title">{{ empleado [1] }}</h5>
                                                <p class="card-text">
                                                    <b><span style="font-weight-bold">Correo: </span></b>
                                                        {{ empleado[2] }}
                                                </p>
                                              </div>
                                          </div>
                                      </div>

                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                                    <input class="btn btn-success" type="submit" value="Aceptar">
                                  </div>
                                </div>
                              </div>
                            </div>
                            </div>


                    <a class="btn btn-danger" href="{{ url_for('index') }}">Cancelar</a>
                </div>
            </p>
        </div>
    </div>
</form>
<br>

{% endfor %}



{% include 'footer.html' %}